var mysql = require("./db-mysql");

var settings = {
    socket: "/var/run/mysqld/mysqld.sock",
    user: "root",
    password: "password",
    database: "node"
};

new mysql.Database(settings).on("error", function(error) {
    console.log("ERROR: " + error);
}).on("ready", function(server) {
    console.log("[7] Connected to " + server.hostname + " (" + server.version + ")");

    var self = this,
        number = 70686626206955,
        number2 = 70686626206955.778;
    query = this.query().insert("numbers", ["data"], [ [number], [number2] ] ).execute(function(error, result) {
        if (error) {
            console.log("[7] QUERY ERROR: " + error);
            return;
        }

        console.log("[7] INSERT: ", result);

        query = self.query("SELECT * FROM numbers").execute(function(error, rows, columns) {
            if (error) {
                console.log("[7] QUERY ERROR: " + error);
                return;
            }
            console.log("[7] COLUMNS: ");
            console.log(columns);
            console.log("[7] " + rows.length + " TOTAL ROWS");
            console.log("[7] ROWS: ", rows);
        });
    });
}).connect();

