var mysql = require("./db-mysql");

new mysql.Database({
    hostname: 'localhost',
    user: 'root',
    password: 'password',
    database: 'node'
}).
/*on('error', function(err) {
    console.log('MY ERROR HANDLER: ' + err);
}).*/
connect(function(error, server) {
    if (error) {
        return console.log('ERROR while connecting: ' + error);
    }

    this.query().
    on('error', function(error) {
        console.log('QUERY ERROR HANDLER: ' + error);
    }).
    execute('some malformed sql', function(error, result) {
        if (error) {
            return console.log('ERROR while executing query: ' + error);
        } else {
            console.log('RESULTS: ', result);
        }
    });

    /*
    var query = this.query().
        update("sessions").
        set({
            "push_id": "2472966781482252390"
        });

    console.log(query.sql());

    this.query({
        start: function(query) {
            console.log(query);
            return false;
        }
    }).execute("INSERT INTO test (`test`) VALUES (?);", ['test value'], function() {});
    */
});
